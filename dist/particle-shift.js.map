{"version":3,"sources":["webpack://ParticleShift/webpack/universalModuleDefinition","webpack://ParticleShift/./src/classes/Body.js","webpack://ParticleShift/./src/classes/Particle.js","webpack://ParticleShift/./src/classes/Scene.js","webpack://ParticleShift/./src/classes/Screen.js","webpack://ParticleShift/./src/index.js","webpack://ParticleShift/./src/utils.js","webpack://ParticleShift/webpack/bootstrap","webpack://ParticleShift/webpack/runtime/define property getters","webpack://ParticleShift/webpack/runtime/hasOwnProperty shorthand","webpack://ParticleShift/webpack/runtime/make namespace object","webpack://ParticleShift/webpack/startup"],"names":["Body","create","settings","new_body","Object","assign","Particle","scene","settings_array","id","new_particle","defaults","x","random","spawn_scatter","y","r","g","b","a","final_x","final_y","final_r","final_g","final_b","final_a","draw","ctx","fillStyle","particle_type","fillRect","draw_multiplier","draw_particle_size","beginPath","arc","Math","PI","fill","update","caller","tick","tick_mod","distance","line_distance","bodies","current_screen","pulled","map","body","body_distance","radius","dt","force","t","particle_speed","particle_speed_distance","sin","particle_wobble","prop","dir","color_shift_speed","Scene","new_scene","canvas","document","querySelector","selector","getContext","width","draw_width","height","draw_height","particle_size","step_width","shuffle_spawn","show_fps","fps","last_frame_call","pre_render_frames_count","pre_render_frames","active","resize","getBoundingClientRect","ceil","add_screen","screen","screens","push","play_screen","setup_particles","performance","now","window","addEventListener","bind","clearRect","forEach","render","particles","particle","pre_render","draw_fps","requestAnimationFrame","round","font","fillText","getImageData","pre_render_node","createElement","pre_render_ctx","length","frame","i","putImageData","appendChild","new_particles","shuffle","diff","Screen","new_screen","image","image_data","data","index","debug","debug_node","screen_node","screen_node_ctx","label","innerHTML","line_a","line_b","sqrt","to","floor","array","currentIndex","temporaryValue","randomIndex"],"mappings":"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","file":"particle-shift.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ParticleShift\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ParticleShift\"] = factory();\n\telse\n\t\troot[\"ParticleShift\"] = factory();\n})(this, function() {\nreturn ","export var Body = {\r\n\r\n\tcreate: function(settings){\r\n\r\n\t\tconst new_body = Object.create(this)\r\n\t\tObject.assign(new_body, settings)\r\n\t\treturn new_body\r\n\r\n\t}\r\n\r\n}","import { random, line_distance } from '../utils.js';\r\n\r\nexport var Particle = {\r\n\r\n\tcreate: function(scene, settings_array, id){\r\n\r\n\t\tconst new_particle = Object.create(this)\r\n\t\tconst defaults = {\r\n\r\n\t\t\tid,\r\n\r\n\t\t\tx: settings_array[0] + random(scene.spawn_scatter) - (scene.spawn_scatter / 2),\r\n\t\t\ty: settings_array[1] + random(scene.spawn_scatter) - (scene.spawn_scatter / 2),\r\n\r\n\t\t\tr: settings_array[2][0],\r\n\t\t\tg: settings_array[2][1],\r\n\t\t\tb: settings_array[2][2],\r\n\t\t\ta: settings_array[2][3],\r\n\r\n\t\t\tfinal_x: settings_array[0],\r\n\t\t\tfinal_y: settings_array[1],\r\n\r\n\t\t\tfinal_r: settings_array[2][0],\r\n\t\t\tfinal_g: settings_array[2][1],\r\n\t\t\tfinal_b: settings_array[2][2],\r\n\t\t\tfinal_a: settings_array[2][3],\r\n\r\n\t\t}\r\n\t\tObject.assign(new_particle, defaults)\r\n\t\treturn new_particle\r\n\r\n\t},\r\n\r\n\tdraw: function(scene){\r\n\r\n\t\tscene.ctx.fillStyle = \"rgba(\"+this.r+\",\"+this.g+\",\"+this.b+\",\"+(this.a / 255)+\")\";\r\n\t\t\r\n\t\tif(!scene.particle_type || scene.particle_type == 'rect'){\r\n\t\t\tscene.ctx.fillRect((this.x * scene.draw_multiplier) - (scene.draw_particle_size / 2), (this.y * scene.draw_multiplier) - (scene.draw_particle_size / 2), scene.draw_particle_size, scene.draw_particle_size)\r\n\t    } else if(scene.particle_type == 'circ') {\r\n\t\t    scene.ctx.beginPath();\r\n\t\t    scene.ctx.arc((this.x * scene.draw_multiplier) - (scene.draw_particle_size / 2), (this.y * scene.draw_multiplier)  - (scene.draw_particle_size / 2), scene.draw_particle_size, 0, 2 * Math.PI);\r\n\t\t    scene.ctx.fill();\r\n\t\t}\r\n\t\r\n\t},\r\n\r\n\tupdate: function(scene){\r\n\r\n\t\tconst caller = this\r\n\r\n\t\tconst tick = scene.tick\r\n\t\tconst tick_mod = tick + this.id\r\n\r\n\t\tconst distance = line_distance([this.x, this.y],[this.final_x,this.final_y])\r\n\t\tconst bodies = scene.current_screen.bodies\r\n\r\n\t\tlet pulled = false\r\n\r\n\t\tif(bodies){\r\n\r\n\t\t\tbodies.map(function(body){\r\n\t\t\t\tconst body_distance = line_distance([caller.x, caller.y],[body.x,body.y])\r\n\t\t\t\tif(body_distance < body.radius){\r\n\t\t\t\t\tpulled = true\r\n\t\t\t\t\tconst dt = body.force + (((body.radius - body_distance) / 10) * body.force);\r\n\t\t\t\t\tconst t = dt / body_distance\r\n\t\t\t\t\tcaller.x = ((1 - t) * caller.x + t * body.x)\r\n\t\t\t\t\tcaller.y = ((1 - t) * caller.y + t * body.y)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t}\r\n\r\n\t\tif(!pulled){\r\n\r\n\t\t\tif(distance < 2){\r\n\t\t\t\tthis.x = this.final_x\r\n\t\t\t\tthis.y = this.final_y\r\n\t\t\t} else {\r\n\t\t\t\tconst dt = scene.particle_speed + (distance * scene.particle_speed_distance);\r\n\t\t\t\tconst t = dt / distance\r\n\t\t\t\tthis.x = ((1 - t) * this.x + t * this.final_x) + (Math.sin(tick_mod / 10) * scene.particle_wobble)\r\n\t\t\t\tthis.y = ((1 - t) * this.y + t * this.final_y) + (Math.sin(tick_mod / 10) * scene.particle_wobble)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t['r','g','b','a'].map(prop => {\r\n\t\t\tif(caller[prop] !== caller['final_'+prop]){\r\n\t\t\t\tconst dir = caller[prop] > caller['final_'+prop]\r\n\t\t\t\tcaller[prop] += (dir ? -1 : 1) * scene.color_shift_speed;\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\r\n}","import { Particle } from './Particle.js';\r\nimport { shuffle } from '../utils.js';\r\n\r\nexport var Scene = {\r\n\r\n\tcreate: function(settings){\r\n\r\n\t\tconst new_scene = Object.create(this)\r\n\r\n\t\tconst canvas = document.querySelector(settings.selector)\r\n\t\tconst ctx = canvas.getContext('2d')\r\n\r\n\t\tcanvas.width = settings.draw_width\r\n\t\tcanvas.height = settings.draw_height\r\n\r\n\t\tconst defaults = {\r\n\r\n\t\t\tcanvas,\r\n\t\t\tctx,\r\n\r\n\t\t\tparticle_size: 2,\r\n\t\t\tstep_width: 6,\r\n\t\t\tparticle_type: 'rect',\r\n\r\n\t\t\tdraw_width: 1000,\r\n\t\t\tdraw_height: 600,\r\n\t\t\tdraw_multiplier: 1,\r\n\r\n\t\t\tspawn_scatter: 250,\r\n\t\t\tshuffle_spawn: true,\r\n\t\t\tparticle_speed: 1,\r\n\t\t\tparticle_speed_distance: 0.05,\r\n\t\t\tparticle_wobble: 0.2,\r\n\t\t\tcolor_shift_speed: 4,\r\n\r\n\t\t\tshow_fps: false,\r\n\t\t\ttick: 0,\r\n\t\t\tfps: 60,\r\n\t\t\tlast_frame_call: 0,\r\n\t\t\tpre_render_frames_count: false,\r\n\t\t\tpre_render_frames: [],\r\n\r\n\t\t\tactive: false,\r\n\t\t\tcurrent_screen: false,\r\n\r\n\t\t}\r\n\r\n\t\tObject.assign(new_scene, defaults, settings)\r\n\r\n\t\treturn new_scene\r\n\r\n\t},\r\n\r\n\tresize: function(){\r\n\r\n\t\tconst width = this.canvas.getBoundingClientRect().width;\r\n\t\tconst height = Math.ceil(width * (this.draw_height / this.draw_width));\r\n\t\tthis.canvas.width = width\r\n\t\tthis.canvas.height = height\r\n\r\n\t\tthis.width = width\r\n\t\tthis.height = height\r\n\r\n\t\tthis.draw_multiplier = width / this.draw_width\r\n\r\n\t},\r\n\tadd_screen: function(screen){\r\n\t\tthis.screens.push(screen)\r\n\t},\r\n\tplay_screen: function(screen){\r\n\t\tconst caller = this\r\n\t\tthis.current_screen = screen\r\n\t\tthis.setup_particles(screen)\r\n\t\tthis.resize()\r\n\t\tif(!this.last_frame_call){\r\n\t\t\tthis.last_frame_call = performance.now()\r\n\t\t}\r\n\t\tif(!this.active){\r\n\t\t\tthis.active = true;\r\n\t\t\twindow.addEventListener(\"resize\", this.resize.bind(this))\r\n\t\t\tthis.draw()\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function(){\r\n\r\n\t\tconst caller = this\r\n\r\n\t\tthis.tick++\r\n\r\n\t\tthis.ctx.clearRect(0, 0, this.width, this.height);\r\n\r\n\t\tif(this.current_screen.bodies){\r\n\t\t\tthis.current_screen.bodies.forEach(body => {\r\n\t\t\t\tif(body.update) body.update(caller, caller.ctx)\r\n\t\t\t\tif(body.render) body.render(caller, caller.ctx)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.draw_particle_size = this.particle_size * this.draw_multiplier\r\n\r\n\t\tthis.particles.forEach(particle => {\r\n\t\t\tparticle.update(caller)\r\n\t\t\tparticle.draw(caller)\r\n\t\t})\r\n\r\n\t\tif(this.pre_render_frames_count){\r\n\t\t\tthis.pre_render()\r\n\t\t}\r\n\r\n\t\tif(this.show_fps){\r\n\t\t\tthis.draw_fps()\r\n\t\t}\r\n\r\n\t\twindow.requestAnimationFrame(function(){\r\n\t\t\tcaller.draw()\r\n\t\t})\r\n\r\n\t},\r\n\r\n\tdraw_fps: function(){\r\n\t\tconst now = performance.now()\r\n\t\tif(this.tick % 20 == 0){\r\n\t\t\tthis.fps = Math.round(1 / ((now - this.last_frame_call) / 1000));\r\n\t\t}\r\n\t\tthis.last_frame_call = now;\r\n\r\n\t\tthis.ctx.fillStyle = 'black';\r\n\t\tthis.ctx.fillRect(0,0,75,25)\r\n\t\tthis.ctx.font = '12px Courier'\r\n\t\tthis.ctx.fillStyle = 'white';\r\n\t\tthis.ctx.fillText('FPS:'+this.fps, 16, 15)\r\n\t},\r\n\r\n\tpre_render: function(){\r\n\t\tthis.pre_render_frames.push(\r\n\t\t\tthis.ctx.getImageData(0,0,this.draw_width,this.draw_height)\r\n\t\t)\r\n\t\tthis.pre_render_frames_count--\r\n\t\tif(this.pre_render_frames_count == 0){\r\n\t\t\tconst pre_render_node = document.createElement('canvas')\r\n\t\t\tconst pre_render_ctx = pre_render_node.getContext('2d')\r\n\t\t\tpre_render_node.width = this.draw_width\r\n\t\t\tpre_render_node.height = this.draw_height * this.pre_render_frames.length\r\n\t\t\tthis.pre_render_frames.forEach((frame, i) => {\r\n\t\t\t\tpre_render_ctx.putImageData(frame, 0, i * this.draw_height)\r\n\t\t\t})\r\n\t\t\tdocument.body.appendChild(pre_render_node)\r\n\t\t}\r\n\t},\r\n\r\n\tparticles: [],\r\n\tsetup_particles: function(screen){\r\n\r\n\t\tconst caller = this\r\n\t\tconst ctx = this.ctx\r\n\r\n\t\tlet new_particles;\r\n\t\tif(this.shuffle_spawn){\r\n\t\t\tnew_particles = shuffle(screen.particles.map((particle, i) => Particle.create(caller, particle, i)));\r\n\t\t} else {\r\n\t\t\tnew_particles = screen.particles.map((particle, i) => Particle.create(caller, particle, i));\r\n\t\t}\r\n\r\n\t\tif(this.particles.length > 0){\r\n\t\t\tlet diff = this.particles.length - new_particles.length;\r\n\t\t\tnew_particles.map((particle, i) => {\r\n\t\t\t\tif(caller.particles[i]){\r\n\t\t\t\t\t['x','y','r','g','b','a'].map(prop => {\r\n\t\t\t\t\t\tparticle[prop] = caller.particles[i][prop]\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tnew_particles.map((particle, i) => {\r\n\t\t\t\tparticle.a = 0\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.particles = new_particles\r\n\r\n\t}\r\n\r\n}","export var Screen = {\r\n\r\n\tcreate: function(scene, settings){\r\n\r\n\t\tconst new_screen = Object.create(this)\r\n\r\n\t\tsettings.render(scene, scene.ctx)\r\n\r\n\t\tlet x = 0;\r\n\t\tlet y = 0;\r\n\r\n\t\tlet particles = [];\r\n\t\tlet image = scene.ctx.getImageData(0,0,scene.draw_width,scene.draw_height)\r\n\t\tlet image_data = image.data\r\n\r\n\t\tnew_screen.draw_width = scene.draw_width\r\n\t\tnew_screen.draw_height = scene.draw_height\r\n\r\n\t\tscene.ctx.clearRect(0, 0, scene.draw_width, scene.draw_height);\r\n\r\n\t\twhile(x < scene.draw_width){\r\n\t\t\ty = 0\r\n\t\t\twhile(y < scene.draw_height){\r\n\t\t\t\tlet index = (y * scene.draw_width + x) * 4;\r\n\t\t\t\tif(image_data[index+3] !== 0){\r\n\t\t\t\t\tparticles.push([x, y, [image_data[index],image_data[index+1],image_data[index+2],image_data[index+3]]])\r\n\t\t\t\t}\r\n\t\t\t\ty += scene.step_width\r\n\t\t\t}\r\n\t\t\tx += scene.step_width\r\n\t\t}\r\n\r\n\t\tObject.assign(new_screen, {\r\n\t\t\tsettings,\r\n\t\t\timage,\r\n\t\t\tparticles,\r\n\t\t\tbodies: settings.bodies\r\n\t\t})\r\n\r\n\t\treturn new_screen\r\n\r\n\t},\r\n\r\n\tdebug: function(){\r\n\r\n\t\tconst debug_node = document.createElement('div')\r\n\r\n\t\tconst screen_node = document.createElement('canvas')\r\n\t\tscreen_node.width = this.draw_width\r\n\t\tscreen_node.height = this.draw_height\r\n\r\n\t\tconst screen_node_ctx = screen_node.getContext('2d')\r\n\t\tscreen_node_ctx.putImageData(this.image, 0, 0)\r\n\r\n\t\tconst label = document.createElement('h6')\r\n\t\tlabel.innerHTML = 'Particles: '+this.particles.length\r\n\t\t\r\n\t\tdebug_node.appendChild(label)\r\n\t\tdebug_node.appendChild(screen_node)\r\n\r\n\t\tdocument.body.appendChild(debug_node)\r\n\t}\r\n\r\n}","import { Scene } from './classes/Scene.js';\r\nimport { Screen } from './classes/Screen.js';\r\nimport { Body } from './classes/Body.js';\r\n\r\nexport {\r\n\tScene,\r\n\tScreen,\r\n\tBody\r\n}","export function line_distance(line_a, line_b){\r\n\tconst a = line_a[0] - line_b[0];\r\n\tconst b = line_a[1] - line_b[1];\r\n\treturn Math.sqrt( a*a + b*b );\r\n}\r\n\r\nexport function random(to){\r\n\treturn Math.floor((Math.random() * to) + 1)\r\n}\r\n\r\nexport function shuffle(array) {\r\n\tvar currentIndex = array.length, temporaryValue, randomIndex;\r\n\twhile (0 !== currentIndex) {\r\n\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\tcurrentIndex -= 1;\r\n\t\ttemporaryValue = array[currentIndex];\r\n\t\tarray[currentIndex] = array[randomIndex];\r\n\t\tarray[randomIndex] = temporaryValue;\r\n\r\n\t}\r\n\treturn array;\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(\"./src/index.js\");\n"],"sourceRoot":""}